@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --radius: 0.5rem;
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui,
    sans-serif;
  --font-mono: "SF Mono", "Cascadia Code", "Fira Code", "Consolas", monospace;

  --color-background: oklch(0.145 0.014 228);
  --color-foreground: oklch(0.895 0.013 225);
  --color-card: oklch(0.195 0.014 228);
  --color-card-foreground: oklch(0.895 0.013 225);
  --color-popover: oklch(0.195 0.014 228);
  --color-popover-foreground: oklch(0.895 0.013 225);
  --color-primary: oklch(0.623 0.18 256);
  --color-primary-foreground: oklch(1 0 0);
  --color-secondary: oklch(0.235 0.014 228);
  --color-secondary-foreground: oklch(0.895 0.013 225);
  --color-muted: oklch(0.235 0.014 228);
  --color-muted-foreground: oklch(0.556 0.02 228);
  --color-accent: oklch(0.235 0.014 228);
  --color-accent-foreground: oklch(0.895 0.013 225);
  --color-destructive: oklch(0.577 0.215 27.33);
  --color-destructive-foreground: oklch(1 0 0);
  --color-border: oklch(0.275 0.014 228);
  --color-input: oklch(0.275 0.014 228);
  --color-ring: oklch(0.623 0.18 256);

  /* Custom dashboard tokens */
  --color-surface: oklch(0.195 0.014 228);
  --color-surface-hover: oklch(0.22 0.014 228);
  --color-sns: oklch(0.768 0.165 75);
  --color-sqs: oklch(0.623 0.18 256);
  --color-dlq: oklch(0.577 0.215 27.33);
  --color-success: oklch(0.765 0.155 160);
  --color-highlight: oklch(0.623 0.18 256);
}

@layer base {
  body {
    font-family: var(--font-sans);
    background: var(--color-background);
    color: var(--color-foreground);
    height: 100vh;
    overflow: hidden;
  }

  #app {
    display: contents;
  }
}

/* Connection lines */
@keyframes dash-flow {
  to {
    stroke-dashoffset: -14;
  }
}

.conn-hit {
  pointer-events: stroke;
  cursor: pointer;
}

.conn-line,
.conn-arrow {
  pointer-events: none;
  transition: opacity 0.2s, stroke-width 0.2s, filter 0.2s;
}

.conn-sub .conn-line {
  animation: dash-flow 2s linear infinite;
}

.conn-sub:hover .conn-line {
  opacity: 0.85;
  stroke-width: 2;
  filter: drop-shadow(0 0 6px var(--color-sns));
}

.conn-sub:hover .conn-arrow {
  opacity: 1;
  filter: drop-shadow(0 0 6px var(--color-sns));
}

.conn-dlq:hover .conn-line {
  opacity: 0.8;
  stroke-width: 2;
  filter: drop-shadow(0 0 6px var(--color-dlq));
}

.conn-dlq:hover .conn-arrow {
  opacity: 1;
  filter: drop-shadow(0 0 6px var(--color-dlq));
}

.conn-selected .conn-line {
  opacity: 0.9 !important;
  stroke-width: 2.5;
  filter: drop-shadow(0 0 8px var(--color-sns));
}

.conn-selected .conn-arrow {
  opacity: 1 !important;
  filter: drop-shadow(0 0 8px var(--color-sns));
}
